# Setting\Locale Related APIs
extend type Query @guard(with: ["admin-api"]) {
    locales(
        input: FilterLocaleInput
        @builder(method: "Webkul\\GraphQLAPI\\Queries\\Admin\\Setting\\FilterLocale")
    ): [Locale!] @paginate(type: "PAGINATOR" defaultCount:10 model: "Webkul\\Core\\Models\\Locale")

    locale(
        id: ID @eq
    ): Locale @find(model: "Webkul\\Core\\Models\\Locale")
}

extend type Mutation @guard(with: ["admin-api"]) {
    createLocale(
        input: CreateLocaleInput!
    ): Locale @field(resolver: "Webkul\\GraphQLAPI\\Mutations\\Admin\\Setting\\LocaleMutation@store")

    updateLocale(
        id: ID!,
        input: CreateLocaleInput!
    ): Locale @field(resolver: "Webkul\\GraphQLAPI\\Mutations\\Admin\\Setting\\LocaleMutation@update")

    deleteLocale(id: ID!): Locale @field(resolver: "Webkul\\GraphQLAPI\\Mutations\\Admin\\Setting\\LocaleMutation@delete")
}

input FilterLocaleInput {
    id: Int
    code: String
    name: String
    direction: String
}

input CreateLocaleInput {
    code: String! @rules(apply: ["required"])
    name: String! @rules(apply: ["required"])
    direction: Direction! @rules(apply: ["required"])
    image: String
}

enum Direction {
    LTR @enum(value: "ltr")
    RTL @enum(value: "rtl")
}

type Locale {
    id: ID!
    code: String!
    name: String!
    direction: String
    logoUrl: String @rename(attribute: "logo_url")
    createdAt: DateTime @rename(attribute: "created_at")
    updatedAt: DateTime @rename(attribute: "updated_at")
    success: String
}
